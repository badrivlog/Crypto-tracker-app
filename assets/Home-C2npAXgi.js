import{j as e,a as x,r as d,s as m,u as o,M as u}from"./index-yh6Wra4n.js";import{u as p}from"./useQuery-ChPapyuX.js";const h="/Crypto-tracker-app/assets/Banner-CcbRYs6j.png";function f(){return e.jsxs("div",{className:"w-full h-[25rem] relative",children:[e.jsx("img",{src:h,alt:"Banner Image",className:"h-full w-full"}),e.jsx("div",{className:"absolute top-20 left-0 right-0 mx-auto w-[20rem]",children:e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx("h1",{className:"font-semibold text-5xl text-black",children:"Crypto Tracker"}),e.jsx("p",{className:"font-semibold text-sm text-center text-black",children:"Get all info regarding cryptocurrencies"})]})})]})}async function j(a=1,r="usd"){try{return(await x.get(`/coins/markets?vs_currency=${r}&order-market_cap_desc&per_page=10&page=${a}`)).data}catch(t){console.error(t)}}function b(){const[a,r]=d.useState(1),{currency:l}=m(),{data:t,isLoading:c,isError:g,error:N}=p({queryKey:["coins",a,l],queryFn:()=>j(a,l),staleTime:2*60*1e3}),n=o();function i(s){n(`/details/${s}`)}return c?e.jsx(u,{}):e.jsxs("div",{className:"my-5 flex flex-col items-center justify-center gap-5 w-[80vw] mx-auto",children:[e.jsxs("div",{className:"w-full bg-yellow-400 text-black flex py-4 px-2 font-semibold items-center justify-center",children:[e.jsx("p",{className:"basis-[35%]",children:"Coins"}),e.jsx("p",{className:"basis-[25%]",children:"Current Price"}),e.jsx("p",{className:"basis-[20%]",children:"24H Change"}),e.jsx("p",{className:"basis-[20%]",children:"Market Cap"})]}),e.jsx("ul",{className:"flex flex-col w-[80vw] mx-auto",children:t&&t.map(s=>e.jsxs("li",{onClick:()=>i(s.id),className:"cursor-pointer w-full bg-transparent text-white flex py-4 px-2 font-semibold items-center justify-between",children:[e.jsxs("div",{className:"flex items-center justify-start gap-3 basis-[35%]",children:[e.jsx("div",{className:"w-[5rem] h-[5rem]",children:e.jsx("img",{src:s.image,className:"w-full h-full"})}),e.jsx("div",{children:e.jsxs("div",{className:"flex flex-col",children:[e.jsx("div",{className:"text-3xl",children:s.name}),e.jsx("div",{className:"text-xl",children:s.symbol})]})})]}),e.jsx("div",{className:"basis-[25%]",children:s.current_price}),e.jsx("div",{className:"basis-[20%]",children:s.price_change_24h}),e.jsx("div",{className:"basis-[20%]",children:s.market_cap})]},s.id))}),e.jsxs("div",{className:"flex gap-4 justify-center items-center",children:[e.jsx("button",{disabled:a===1,onClick:()=>r(a-1),className:"btn btn-secondary btn-wide text-white text-2xl",children:"Prev"}),e.jsx("button",{onClick:()=>r(a+1),className:"btn btn-primary btn-wide text-white text-2xl",children:"Next"})]})]})}function w(){return e.jsxs(e.Fragment,{children:[e.jsx(f,{}),e.jsx(b,{})]})}export{w as default};
